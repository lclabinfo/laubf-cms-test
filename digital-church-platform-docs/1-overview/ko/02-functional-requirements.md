# 02. 기능 요구사항

## Functional Requirements Document

---

## 1. 요구사항 개요

### 1.1 문서 목적
이 문서는 Digital Church Platform의 기능 요구사항을 정의합니다. 각 모듈별 기능, 사용자 스토리, 인수 조건을 포함합니다.

### 1.2 우선순위 정의

| 우선순위 | 코드 | 설명 |
|---------|------|------|
| 필수 | P0 | MVP에 반드시 포함 |
| 중요 | P1 | 출시 후 3개월 내 |
| 희망 | P2 | 향후 로드맵 |

---

## 2. 플랫폼 관리 기능 (Platform Admin)

### 2.1 테넌트 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| PA-001 | 테넌트 목록 조회 | P0 | 전체 테넌트 검색, 필터, 정렬 |
| PA-002 | 테넌트 상세 조회 | P0 | 개별 테넌트 정보, 사용량, 결제 상태 |
| PA-003 | 테넌트 생성 | P0 | 관리자가 직접 테넌트 생성 |
| PA-004 | 테넌트 상태 변경 | P0 | ACTIVE, SUSPENDED, CANCELLED |
| PA-005 | 테넌트 Impersonation | P1 | 테넌트 관리자로 로그인하여 지원 |
| PA-006 | 테넌트 데이터 내보내기 | P1 | GDPR 준수, 데이터 이전 지원 |

### 2.2 구독 및 빌링 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| PA-101 | Plan 관리 | P0 | Plan 생성, 수정, 비활성화 |
| PA-102 | 모듈 카탈로그 관리 | P0 | 모듈 가격, 설명, 활성화 |
| PA-103 | 구독 현황 대시보드 | P0 | MRR, Churn, LTV 통계 |
| PA-104 | 수동 구독 조정 | P1 | 할인 적용, 기간 연장 |
| PA-105 | 인보이스 조회 | P0 | 전체 인보이스 목록, 상태 |
| PA-106 | 환불 처리 | P1 | Stripe 환불 연동 |

### 2.3 시스템 모니터링

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| PA-201 | 시스템 헬스 대시보드 | P0 | 서버 상태, DB 상태, 큐 상태 |
| PA-202 | 에러 로그 조회 | P0 | 시스템 에러 모니터링 |
| PA-203 | 사용량 통계 | P0 | 전체 플랫폼 사용량 |
| PA-204 | 알림 설정 | P1 | 임계치 알림 (디스크, CPU 등) |

---

## 3. 테넌트 온보딩

### 3.1 회원가입 및 초기 설정

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| ON-001 | 교회 등록 폼 | P0 | 교회명, 연락처, 서브도메인 |
| ON-002 | 이메일 인증 | P0 | 이메일 확인 프로세스 |
| ON-003 | 구독 모델 선택 | P0 | Plan 또는 모듈 선택 |
| ON-004 | 결제 정보 입력 | P0 | Stripe 결제 수단 등록 |
| ON-005 | 온보딩 마법사 | P0 | 단계별 초기 설정 가이드 |
| ON-006 | 템플릿 선택 | P0 | 웹사이트 템플릿 선택 |
| ON-007 | 무료 체험 | P1 | 14일 무료 체험 기간 |

### 3.2 모듈 선택 (À la carte)

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| ON-101 | 모듈 카탈로그 표시 | P0 | 사용 가능한 모듈 목록 |
| ON-102 | 의존성 검증 | P0 | 필수 모듈 자동 추가 |
| ON-103 | 가격 계산 | P0 | 실시간 가격 계산 (할인 포함) |
| ON-104 | 추천 모듈 표시 | P1 | 소프트 의존성 추천 |
| ON-105 | 번들 할인 표시 | P0 | 3/5/8+ 모듈 할인율 표시 |

---

## 4. 교회 웹사이트 (Website Module)

### 4.1 페이지 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| WB-001 | 페이지 목록 | P0 | 모든 페이지 조회, 정렬 |
| WB-002 | 페이지 생성 | P0 | 새 페이지 추가 |
| WB-003 | 페이지 편집 | P0 | 드래그앤드롭 페이지 빌더 |
| WB-004 | 페이지 삭제 | P0 | 소프트 삭제, 복구 가능 |
| WB-005 | 페이지 게시/임시저장 | P0 | 발행 상태 관리 |
| WB-006 | 페이지 URL 설정 | P0 | 커스텀 slug 설정 |
| WB-007 | SEO 메타데이터 | P1 | 제목, 설명, OG 태그 |

### 4.2 페이지 빌더

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| WB-101 | 섹션 라이브러리 | P0 | 20+ 사전 정의된 섹션 |
| WB-102 | 드래그앤드롭 | P0 | 섹션 순서 변경 |
| WB-103 | 인라인 편집 | P0 | 텍스트 직접 편집 |
| WB-104 | 이미지 업로드 | P0 | 미디어 라이브러리 연동 |
| WB-105 | 실시간 미리보기 | P0 | 편집 중 미리보기 |
| WB-106 | 모바일 미리보기 | P1 | 모바일 뷰 미리보기 |
| WB-107 | 섹션 설정 | P0 | 색상, 여백, 배경 설정 |

### 4.3 템플릿 시스템

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| WB-201 | 템플릿 선택 | P0 | 사용 가능한 템플릿 목록 |
| WB-202 | 템플릿 미리보기 | P0 | 적용 전 미리보기 |
| WB-203 | 테마 커스터마이징 | P0 | 색상, 폰트, 로고 |
| WB-204 | 템플릿 변경 | P1 | 콘텐츠 유지하며 템플릿 변경 |
| WB-205 | CSS 변수 지원 | P0 | 동적 테마 적용 |

### 4.4 메뉴 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| WB-301 | 메뉴 생성 | P0 | 헤더, 푸터 등 다중 메뉴 |
| WB-302 | 메뉴 항목 관리 | P0 | 추가, 수정, 삭제 |
| WB-303 | 중첩 메뉴 | P0 | 드롭다운 메뉴 지원 |
| WB-304 | 외부 링크 | P0 | 외부 URL 링크 지원 |
| WB-305 | 메뉴 순서 변경 | P0 | 드래그앤드롭 정렬 |

---

## 5. 온라인 헌금 (Giving Module)

### 5.1 헌금 수납

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GV-001 | 일회성 헌금 | P0 | 신용카드, 직불카드 결제 |
| GV-002 | 정기 헌금 | P0 | 주간, 월간, 연간 반복 |
| GV-003 | ACH 결제 | P0 | 은행 계좌 직접 인출 |
| GV-004 | Apple Pay | P1 | Apple Pay 결제 지원 |
| GV-005 | Google Pay | P1 | Google Pay 결제 지원 |
| GV-006 | Text-to-Give | P1 | SMS로 헌금 (Twilio 연동) |
| GV-007 | 키오스크 모드 | P2 | 현장 헌금 터치스크린 |

### 5.2 펀드 및 캠페인

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GV-101 | 펀드 관리 | P0 | 일반, 건축, 선교 등 펀드 |
| GV-102 | 캠페인 생성 | P0 | 목표 금액, 기간 설정 |
| GV-103 | 캠페인 진행률 | P0 | 실시간 목표 달성률 표시 |
| GV-104 | 펀드별 리포트 | P0 | 펀드별 헌금 통계 |

### 5.3 기부자 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GV-201 | 기부자 프로필 | P0 | 성도 연동 또는 게스트 |
| GV-202 | 헌금 내역 | P0 | 개인 헌금 이력 조회 |
| GV-203 | 자동 영수증 | P0 | 이메일 영수증 발송 |
| GV-204 | 연간 보고서 | P1 | 세금 보고용 연간 명세서 |
| GV-205 | 결제 수단 관리 | P0 | 저장된 결제 수단 관리 |

### 5.4 관리자 대시보드

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GV-301 | 헌금 현황 대시보드 | P0 | 일간, 주간, 월간 통계 |
| GV-302 | 거래 목록 | P0 | 모든 헌금 거래 조회 |
| GV-303 | 환불 처리 | P0 | 관리자 환불 기능 |
| GV-304 | 리포트 내보내기 | P0 | CSV, Excel 내보내기 |
| GV-305 | 정기 헌금 관리 | P0 | 정기 헌금 목록, 상태 관리 |

---

## 6. 성도 관리 (Members Module)

### 6.1 성도 데이터베이스

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| MB-001 | 성도 목록 | P0 | 검색, 필터, 정렬 |
| MB-002 | 성도 프로필 | P0 | 상세 정보 조회/편집 |
| MB-003 | 성도 등록 | P0 | 수동 등록 |
| MB-004 | 성도 가져오기 | P0 | CSV 대량 가져오기 |
| MB-005 | 성도 내보내기 | P0 | CSV 내보내기 |
| MB-006 | 커스텀 필드 | P1 | 사용자 정의 필드 |
| MB-007 | 태그/라벨 | P0 | 그룹핑용 태그 |

### 6.2 가족 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| MB-101 | 가구 생성 | P0 | 가족 그룹 생성 |
| MB-102 | 가족 구성원 연결 | P0 | 부모, 자녀, 배우자 관계 |
| MB-103 | 공유 주소 | P0 | 가족 공유 주소 |
| MB-104 | 가족 커뮤니케이션 | P1 | 가족 단위 연락 |

### 6.3 방문자 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| MB-201 | 방문자 등록 | P0 | 첫 방문자 기록 |
| MB-202 | 방문자 → 성도 전환 | P0 | 상태 변경 워크플로우 |
| MB-203 | 팔로업 워크플로우 | P1 | 자동 팔로업 단계 |
| MB-204 | 연결 카드 | P1 | 디지털 방문자 카드 |

### 6.4 출석 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| MB-301 | 출석 체크 | P0 | 예배/이벤트 출석 기록 |
| MB-302 | 출석 통계 | P0 | 개인/전체 출석률 |
| MB-303 | 출석 리포트 | P1 | 기간별 출석 보고서 |

---

## 7. 이벤트 관리 (Events Module)

### 7.1 이벤트 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| EV-001 | 이벤트 생성 | P0 | 제목, 날짜, 장소, 설명 |
| EV-002 | 이벤트 목록 | P0 | 달력 뷰, 리스트 뷰 |
| EV-003 | 이벤트 수정 | P0 | 이벤트 정보 편집 |
| EV-004 | 반복 이벤트 | P0 | 주간, 월간 반복 |
| EV-005 | 이벤트 카테고리 | P0 | 예배, 수련회, 모임 등 |
| EV-006 | 이벤트 이미지 | P0 | 대표 이미지 업로드 |

### 7.2 등록 및 예약

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| EV-101 | 온라인 등록 | P0 | 이벤트 참가 신청 |
| EV-102 | 정원 관리 | P0 | 최대 인원 제한 |
| EV-103 | 대기자 명단 | P1 | 정원 초과 시 대기 |
| EV-104 | 유료 이벤트 | P1 | 티켓 판매 (Stripe) |
| EV-105 | 등록 양식 커스텀 | P1 | 추가 질문 설정 |
| EV-106 | 등록 확인 이메일 | P0 | 자동 확인 이메일 |

### 7.3 캘린더

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| EV-201 | 공개 캘린더 | P0 | 웹사이트 캘린더 위젯 |
| EV-202 | iCal 내보내기 | P1 | 개인 캘린더 동기화 |
| EV-203 | 필터링 | P0 | 카테고리별 필터 |

---

## 8. 소그룹/사역 (Groups Module)

### 8.1 그룹 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GR-001 | 그룹 생성 | P0 | 소그룹, 셀, 사역팀 |
| GR-002 | 그룹 목록 | P0 | 전체 그룹 조회 |
| GR-003 | 그룹 상세 | P0 | 그룹 정보, 멤버 |
| GR-004 | 그룹 리더 지정 | P0 | 리더 역할 부여 |
| GR-005 | 그룹 멤버 관리 | P0 | 멤버 추가/제거 |
| GR-006 | 그룹 카테고리 | P0 | 유형별 분류 |

### 8.2 그룹 파인더

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GR-101 | 그룹 검색 | P0 | 공개 그룹 검색 |
| GR-102 | 위치 기반 검색 | P1 | 지도 기반 그룹 찾기 |
| GR-103 | 그룹 가입 신청 | P0 | 온라인 가입 요청 |
| GR-104 | 그룹 가입 승인 | P0 | 리더 승인 프로세스 |

### 8.3 그룹 커뮤니케이션

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| GR-201 | 그룹 메시지 | P1 | 그룹 내 메시지 |
| GR-202 | 그룹 이메일 | P1 | 그룹 멤버 일괄 이메일 |
| GR-203 | 그룹 일정 | P1 | 그룹 전용 캘린더 |

---

## 9. 설교/미디어 (Streaming Module)

### 9.1 설교 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| SR-001 | 설교 업로드 | P0 | 비디오, 오디오 업로드 |
| SR-002 | 설교 목록 | P0 | 설교 라이브러리 |
| SR-003 | 설교 상세 | P0 | 제목, 설명, 성경 본문 |
| SR-004 | 설교 시리즈 | P0 | 시리즈 그룹핑 |
| SR-005 | 설교 검색 | P0 | 제목, 본문, 설교자 검색 |
| SR-006 | 설교자 프로필 | P0 | 설교자 정보 관리 |

### 9.2 라이브 스트리밍

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| SR-101 | 라이브 스트림 생성 | P1 | YouTube/Mux 연동 |
| SR-102 | 예약 스트리밍 | P1 | 스케줄된 라이브 |
| SR-103 | 라이브 채팅 | P2 | 실시간 채팅 |
| SR-104 | 라이브 출석 | P2 | 온라인 출석 추적 |
| SR-105 | VOD 자동 저장 | P1 | 라이브 → 다시보기 |

### 9.3 미디어 라이브러리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| SR-201 | 미디어 업로드 | P0 | 이미지, 비디오, 문서 |
| SR-202 | 미디어 정리 | P0 | 폴더, 태그 정리 |
| SR-203 | 미디어 검색 | P0 | 파일명, 태그 검색 |
| SR-204 | 용량 관리 | P0 | 사용량 표시, 제한 |

---

## 10. 모바일 앱 (Mobile App Module)

### 10.1 앱 기능

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| MA-001 | 홈 화면 | P0 | 교회 정보, 빠른 접근 |
| MA-002 | 설교 시청 | P0 | 비디오, 오디오 재생 |
| MA-003 | 헌금 | P0 | 인앱 헌금 |
| MA-004 | 이벤트 조회 | P0 | 이벤트 목록, 등록 |
| MA-005 | 푸시 알림 | P0 | FCM 연동 알림 |
| MA-006 | 그룹 기능 | P1 | 그룹 멤버, 커뮤니케이션 |
| MA-007 | 오프라인 모드 | P2 | 오프라인 콘텐츠 접근 |

### 10.2 앱 관리

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| MA-101 | 앱 브랜딩 | P0 | 로고, 색상, 이름 |
| MA-102 | 앱 스토어 게시 | P0 | iOS, Android 배포 |
| MA-103 | 앱 업데이트 | P0 | OTA 업데이트 |

---

## 11. 어린이 체크인 (Check-in Module)

### 11.1 체크인 기능

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| CI-001 | 셀프 체크인 | P1 | 키오스크 체크인 |
| CI-002 | QR 코드 체크인 | P1 | 가족 QR 스캔 |
| CI-003 | 라벨 출력 | P1 | 어린이/보호자 라벨 |
| CI-004 | 보안 코드 | P1 | 픽업 시 보안 코드 |
| CI-005 | 알러지/특이사항 | P1 | 특별 케어 정보 |
| CI-006 | 체크아웃 | P1 | 보안 코드 확인 후 퇴실 |

### 11.2 관리 기능

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| CI-101 | 체크인 현황 | P1 | 실시간 체크인 상태 |
| CI-102 | 봉사자 배정 | P2 | 봉사자 스케줄 관리 |
| CI-103 | 체크인 리포트 | P1 | 출석 통계 |

---

## 12. AI 크리에이티브 (AI Creative Modules)

### 12.1 AI Shorts Creator

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| AI-001 | 설교 분석 | P2 | AI 하이라이트 구간 추출 |
| AI-002 | 숏폼 생성 | P2 | 15-60초 클립 자동 생성 |
| AI-003 | 자막 생성 | P2 | 자동 자막 |
| AI-004 | 멀티 플랫폼 | P2 | TikTok, Reels, Shorts 포맷 |
| AI-005 | 브랜딩 적용 | P2 | 로고, 인트로/아웃트로 |
| AI-006 | 예약 게시 | P2 | SNS 자동 게시 |

### 12.2 AI Social Studio

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| AI-101 | 인용 그래픽 | P2 | 설교 인용 이미지 생성 |
| AI-102 | 이벤트 전단 | P2 | 이벤트 홍보 이미지 |
| AI-103 | 스토리 생성 | P2 | Instagram/Facebook 스토리 |
| AI-104 | 캐러셀 생성 | P2 | 다중 슬라이드 게시물 |
| AI-105 | 브랜드 일관성 | P2 | 교회 디자인 시스템 적용 |
| AI-106 | 콘텐츠 캘린더 | P2 | 게시 스케줄 관리 |

---

## 13. 커뮤니케이션

### 13.1 이메일

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| CM-001 | 이메일 발송 | P0 | 개인/그룹 이메일 |
| CM-002 | 이메일 템플릿 | P0 | 재사용 템플릿 |
| CM-003 | 이메일 예약 | P1 | 예약 발송 |
| CM-004 | 이메일 통계 | P1 | 열람율, 클릭율 |
| CM-005 | 대량 발송 | P0 | 전체 성도 발송 |

### 13.2 푸시 알림

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| CM-101 | 푸시 발송 | P0 | 앱 푸시 알림 |
| CM-102 | 세그먼트 | P1 | 그룹별 타겟 |
| CM-103 | 푸시 예약 | P1 | 예약 발송 |

### 13.3 SMS

| ID | 요구사항 | 우선순위 | 설명 |
|----|---------|---------|------|
| CM-201 | SMS 발송 | P1 | Twilio 연동 |
| CM-202 | SMS 템플릿 | P1 | 재사용 템플릿 |
| CM-203 | SMS 크레딧 | P1 | 사용량 관리 |

---

## 14. 비기능 요구사항

### 14.1 성능

| ID | 요구사항 | 목표 |
|----|---------|------|
| NF-001 | 페이지 로드 시간 (TTFB) | <200ms (P95) |
| NF-002 | API 응답 시간 | <100ms (P95) |
| NF-003 | Time to Interactive | <3s (3G) |
| NF-004 | 동시 접속자 | 테넌트당 10,000명 |

### 14.2 가용성

| ID | 요구사항 | 목표 |
|----|---------|------|
| NF-101 | 시스템 가용성 | 99.9% |
| NF-102 | 에러율 | <0.1% |
| NF-103 | 복구 시간 (RTO) | <1시간 |
| NF-104 | 복구 시점 (RPO) | <1시간 |

### 14.3 보안

| ID | 요구사항 | 설명 |
|----|---------|------|
| NF-201 | 데이터 암호화 | AES-256 (저장), TLS 1.3 (전송) |
| NF-202 | 인증 | JWT, 2FA 지원 |
| NF-203 | 권한 관리 | RBAC |
| NF-204 | 감사 로깅 | 모든 중요 작업 기록 |
| NF-205 | PCI DSS | Stripe 통한 준수 |
| NF-206 | GDPR | 데이터 삭제, 내보내기 |

### 14.4 확장성

| ID | 요구사항 | 설명 |
|----|---------|------|
| NF-301 | 수평 확장 | 서버리스 아키텍처 |
| NF-302 | 테넌트 수 | 10,000+ 테넌트 |
| NF-303 | 스토리지 확장 | S3 무제한 |
| NF-304 | 데이터베이스 확장 | 읽기 복제본 |

---

**Document Version**: 3.0 Enterprise Edition
**Last Updated**: December 2024
